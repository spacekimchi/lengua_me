<div class="passage-writer-show-container">
  <%= link_to @topic.name, topic_path(name: @topic.name) %>
  <h1><%= @passage.title %></h1>

  <div data-controller="sentence-writer"
       data-sentences="<%= @sentences_data.to_json %>"
       data-current-index="0">
       <div class="card-navigation">
         <button data-action="click->sentence-writer#prev keydown.enter->sentence-writer#prev">
           Previous
         </button>
         <button data-action="click->sentence-writer#next keydown.enter->sentence-writer#next">
           Next
         </button>
       </div>

       <div data-sentence-writer-target="writerContainer" class="card-container"></div>

       <textarea data-sentence-writer-target="textArea" data-action="keydown.enter->sentence-writer#check"></textarea>

       <div data-sentence-writer-target="incorrectDiv" style="display: none;">
         <span>Incorrect!</span>
       </div>

       <div data-sentence-writer-target="correctDiv" style="display: none;">
         <span>Great Job!</span>
         <button data-action="click->sentence-writer#next keydown.enter->sentence-writer#next">
           Next
         </button>
       </div>

       <div data-sentence-writer-target="checkResult"></div>

       <div data-sentence-writer-target="checkAndSkipDiv">
         <button data-action="click->sentence-writer#check keydown.enter->sentence-writer#check">
           Check
         </button>
         <button data-action="click->sentence-writer#skip keydown.enter->sentence-writer#skip">
           Skip
         </button>
       </div>
  </div>

  <div>
    <%= @sentences.map(&:content).join("\n") %>
  </div>
</div>

